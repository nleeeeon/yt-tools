# YouTube視聴履歴解析・音楽プレイリスト生成Webアプリケーション

## 概要
本アプリケーションは、ユーザーが YouTube の視聴履歴データ（JSON）をアップロードすることで、その内容を解析し、  
指定期間・ジャンル別（通常音楽／音MAD／ピアノ）に音楽を再生できるプレイリストを生成・再生する Web アプリケーションです。

通常音楽については、対応するピアノ動画に切り替えて再生する機能や、  
動画ごとに再生開始位置やスキップ区間を設定できる再生制御機能を備えています。

---

## 主な機能

### 視聴履歴の解析
- YouTube の視聴履歴 JSON をアップロードして解析
- 指定期間内の視聴データを抽出

### ジャンル分類・プレイリスト生成
- 動画を「通常音楽／音MAD／ピアノ」に分類
- 期間・ジャンルを指定してプレイリストを生成
- YouTube IFrame Player を用いて再生

### ピアノ動画への切り替え再生
- 通常音楽に対して「ピアノ動画に変換」操作が可能
- 対応するピアノ動画をプレイリストに組み込み、切り替えて再生

### 再生制御・スキップ機能
- 動画ごとに再生開始位置を指定（例：サビ直前）
- 指定した区間にスキップするボタンを設定可能
- YouTube の利用規約に配慮した方法で再生制御を実装

### その他の再生機能
- キーワードを入力して YouTube を検索し、検索結果をそのままプレイリストとして再生
- キーワード検索結果は履歴として保持し、再生時に検索APIを再実行せず、
  過去の検索結果からプレイリストを再生成
- videoId または プレイリストID を指定して、該当する動画やプレイリストを直接再生



---

## デモ環境について
本アプリケーションは **Render の無料枠** 上で公開しています。

そのため、以下の処理はデモ環境では制限しています。

- 高負荷な解析処理（CPU・メモリ制約）
- ローマ字変換 API を利用する処理
- YouTube Data API を大量に使用するチャンネル全体の動画取得処理

これらの制約により、**一部の高度な処理は実行できない構成**となっています。

---

## デモ動画について
上記の制約によりデモ環境上で実行できない処理については、  
**動作確認用のデモ動画**を別途作成しています。

デモ動画では、以下の処理を確認できます。

- ピアノ動画への変換処理の実行
- 対応するピアノ動画チャンネルの全動画取得
- 他の音楽動画に対しても対応ピアノ動画を一括登録
- 登録結果が一覧表示およびプレイリストに反映される様子

※動画は視認性を考慮し、一部処理を倍速にしています。 
デモ動画は就職活動用の確認資料として、必要に応じて提示可能です。

---

## 今後の追加予定・改善点
- ジャンル分類（通常音楽／音MAD）の手動修正機能
- 抽出したアーティスト名・曲名のユーザー修正 UI

---

## 技術構成
- フロントエンド：JSP（HTML生成） / JavaScript / CSS
- バックエンド：Java（Servlet）
- 実行環境：Tomcat 10 / Java 21
- データベース：
  - PostgreSQL（Render上の本番環境）
  - MariaDB（ローカル開発環境）
- 主な外部 API：
  - YouTube Data API
  - YouTube IFrame Player API

---

## 設計上の考慮点
- YouTube の利用規約に抵触しない再生制御方法の採用
- YouTube Data API のクォータ消費を抑えるため、検索処理の使用を最小限にし、
  検索で取得したピアノ動画については、その投稿元チャンネルの動画を取得することで、
  他の音楽動画への対応付けを行う設計としている


---

## 公開情報
- アプリケーションURL：  
  https://yt-tools-r17i.onrender.com
